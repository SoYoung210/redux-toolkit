<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-130598673-3","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>

<title data-react-helmet="true">Advanced Tutorial | Redux Toolkit</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="Redux Toolkit"><meta data-react-helmet="true" property="og:image" content="https://SoYoung210.github.io/redux-toolkit/img/redux-logo-landscape.png"><meta data-react-helmet="true" property="twitter:image" content="https://SoYoung210.github.io/redux-toolkit/img/redux-logo-landscape.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Redux Toolkit"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="# 심화 튜토리얼 : Redux Toolkit in Practive"><meta data-react-helmet="true" property="og:description" content="# 심화 튜토리얼 : Redux Toolkit in Practive"><meta data-react-helmet="true" property="og:url" content="https://SoYoung210.github.io/redux-toolkit/tutorials/advanced-tutorial">

<link data-react-helmet="true" rel="shortcut icon" href="/redux-toolkit/img/favicon/favicon.ico">


<link rel="stylesheet" href="/redux-toolkit/styles.86dcca96.css">


<link rel="preload" href="/redux-toolkit/styles.65c09200.js" as="script">

<link rel="preload" href="/redux-toolkit/runtime~main.0722f1cd.js" as="script">

<link rel="preload" href="/redux-toolkit/main.bae73ed5.js" as="script">

<link rel="preload" href="/redux-toolkit/1.188bb098.js" as="script">

<link rel="preload" href="/redux-toolkit/2.46003221.js" as="script">

<link rel="preload" href="/redux-toolkit/26.f1fc65f0.js" as="script">

<link rel="preload" href="/redux-toolkit/b769c63f.a0c93f25.js" as="script">

<link rel="preload" href="/redux-toolkit/17896441.dec4baf3.js" as="script">

<link rel="preload" href="/redux-toolkit/c92aab1c.4bb33b47.js" as="script">

</head>
<body>

<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/redux-toolkit/"><img class="navbar__logo" src="/redux-toolkit/img/redux.svg" alt="Redux Logo"><strong>Redux Toolkit</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/redux-toolkit/introduction/quick-start">Quick Start</a><a class="navbar__item navbar__link" href="/redux-toolkit/api/configureStore">API</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://github.com/reduxjs/redux-toolkit">GitHub</a><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/redux-toolkit/"><img class="navbar__logo" src="/redux-toolkit/img/redux.svg" alt="Redux Logo"><strong>Redux Toolkit</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/redux-toolkit/introduction/quick-start">Quick Start</a></li><li class="menu__list-item"><a class="menu__link" href="/redux-toolkit/api/configureStore">API</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://github.com/reduxjs/redux-toolkit">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="sidebarLogo_3ono"><img src="/redux-toolkit/img/redux.svg" alt="Redux Logo"><strong>Redux Toolkit</strong></div><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/redux-toolkit/introduction/quick-start">Quick Start</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/redux-toolkit/tutorials/basic-tutorial">기본 튜토리얼</a></li><li class="menu__list-item"><a class="menu__link" href="/redux-toolkit/tutorials/intermediate-tutorial">중급 튜토리얼</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/redux-toolkit/tutorials/advanced-tutorial">Advanced Tutorial</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Using Redux Toolkit</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/redux-toolkit/usage/usage-guide">Usage Guide</a></li><li class="menu__list-item"><a class="menu__link" href="/redux-toolkit/usage/usage-with-typescript">Usage With TypeScript</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">API Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/redux-toolkit/api/configureStore">configureStore</a></li><li class="menu__list-item"><a class="menu__link" href="/redux-toolkit/api/getDefaultMiddleware">getDefaultMiddleware</a></li><li class="menu__list-item"><a class="menu__link" href="/redux-toolkit/api/createReducer">createReducer</a></li><li class="menu__list-item"><a class="menu__link" href="/redux-toolkit/api/createAction">createAction</a></li><li class="menu__list-item"><a class="menu__link" href="/redux-toolkit/api/createSlice">createSlice</a></li><li class="menu__list-item"><a class="menu__link" href="/redux-toolkit/api/createSelector">createSelector</a></li><li class="menu__list-item"><a class="menu__link" href="/redux-toolkit/api/createAsyncThunk">createAsyncThunk</a></li><li class="menu__list-item"><a class="menu__link" href="/redux-toolkit/api/createEntityAdapter">createEntityAdapter</a></li><li class="menu__list-item"><a class="menu__link" href="/redux-toolkit/api/other-exports">Other Exports</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="심화-튜토리얼--redux-toolkit-in-practive"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#심화-튜토리얼--redux-toolkit-in-practive" title="Direct link to heading">#</a>심화 튜토리얼 : Redux Toolkit in Practive</h1><p>[중급 튜토리얼](./ intermediate-tutorial.md) 에서 일반적인 기본 React 앱에서 Redux Toolkit을 사용하는 방법과 기존의 일반 Redux 코드를 RTK를 대신 사용하도록 변환하는 방법을 확인했습니다. 또한 감속기 함수에서 &quot;변형&quot;불변 업데이트를 작성하는 방법과 작업 페이로드를 생성하기 위해 &quot;콜백 준비&quot;를 작성하는 방법도 살펴 보았습니다.</p><p>이 튜토리얼에서는 할일 목록 예제보다 더 큰 &quot;실제&quot;앱의 일부로 Redux Toolkit을 사용하는 방법을 볼 수 있습니다. 이 튜토리얼은 몇 가지 개념을 보여줍니다:</p><ul><li>Redux를 사용하기 위해 &quot;plain React&quot;앱을 변환하는 방법</li><li>데이터 fetch와 같은 비동기 로직이 RTK에 적합한 방식</li><li>TypeScript로 RTK를 사용하는 방법</li></ul><p>이 과정에서 코드를 개선하는 데 사용할 수있는 TypeScript 기술의 몇 가지 예를 살펴보고 <a href="https://react-redux.js.org/api/connect">기존<code>connect</code> API</a> 대신 새로운 <a href="https://react-redux.js.org/api/hooks">React-Redux Hooks API</a>를 사용하는 방법을 살펴 보겠습니다.</p><blockquote><p><strong> 참고 </strong> : 이것은 TypeScript를 일반적으로 또는 특별히 Redux와 함께 사용하는 방법에 대한 완전한 문서가 아니며 여기에 표시된 예제는 100% 완전한 type 안전성을 달성하려고 시도하지 않습니다. 자세한 내용은 <a href="https://github.com/typescript-cheatsheets/react-typescript-cheatsheet">React TypeScript Cheatsheet</a> 및 <a href="https://github.com/piotrwitek/react-redux-typescript-guide">React / Redux TypeScript 가이드</a>.</p></blockquote><blockquote><p>또한이 튜토리얼은 React 앱 로직을 Redux로 완전히 변환해야한다는 의미는 아닙니다. <a href="https://redux.js.org/faq/organizing-state#do-i-have-to-put-all-my-state-into-redux-should-i-ever-use-reacts-setstate">React 컴포넌트에 어떤 상태가 있어야하고 Redux에 무엇이 있어야하는지는 사용자가 결정합니다.</a>. 이것은 당신이 원한다면 Redux를 사용하도록 로직을 변환하는 방법의 예일뿐입니다.</p></blockquote><p>이 가이드에서 변환 된 애플리케이션의 전체 소스 코드는 <a href="https://github.com/reduxjs/rtk-github-issues-example">github.com/reduxjs/rtk-github-issues-example</a>에서 확인할 수 있습니다. 이 리포지토리의 역사에 표시된대로 변환 프로세스를 살펴 보겠습니다. 의미있는 개별 커밋에 대한 링크는 다음과 같이 따옴표 블록으로 강조 표시됩니다.</p><blockquote><p>-여기에 메시지 커밋</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="시작-예제-애플리케이션-검토"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#시작-예제-애플리케이션-검토" title="Direct link to heading">#</a>시작 예제 애플리케이션 검토</h2><p>이 튜토리얼의 예제 애플리케이션은 Github 이슈 뷰어 앱입니다. 사용자는 Github 조직 및 리포지토리의 이름을 입력하고, 현재 진행중인 문제 목록을 가져오고, 문제 목록을 페이지로 이동하고, 특정 문제의 내용과 댓글을 볼 수 있습니다.</p><p>이 애플리케이션의 시작 커밋은 데이터 가져 오기와 같은 상태 및 부작용에 대한 후크가있는 함수 구성 요소를 사용하는 일반 React 구현입니다. 코드는 이미 TypeScript로 작성되었으며 스타일 지정은 CSS 모듈을 통해 수행됩니다.</p><p>작동중인 원래의 일반 React 앱을 살펴 보겠습니다.</p><iframe src="https://codesandbox.io/embed/rsk-github-issues-example-8jf6d?fontsize=14&amp;hidenavigation=1&amp;theme=dark&amp;view=preview" style="width:100%;height:500px;border:0;border-radius:4px;overflow:hidden" title="rtk-github-issues-example-01-plain-react" allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"></iframe><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="react-codebase-소스-개요"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#react-codebase-소스-개요" title="Direct link to heading">#</a>React Codebase 소스 개요</h3><p>코드베이스는 이미 &quot;기능 폴더&quot;구조로 배치되어 있습니다. 주요 부분은 다음과 같습니다.</p><p>-<code>/api</code> : Github Issues API에 대한 함수 및 TS 유형 가져 오기
-<code>/app</code> : 기본<code>&lt;App&gt;</code>구성 요소
-<code>/components</code> : 여러 곳에서 재사용되는 컴포넌트
-<code>/features</code>
-<code>/issueDetails :</code>이슈 세부 정보 페이지의 구성 요소
-<code>/issuesList</code> : 이슈 목록 표시를위한 구성 요소
-<code>/repoSearch</code> : Repo Search 폼의 구성 요소
-<code>/utils</code> : 다양한 문자열 유틸리티 기능</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="redux-store-설정"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#redux-store-설정" title="Direct link to heading">#</a>Redux Store 설정</h2><p>이 앱은 아직 Redux를 전혀 사용하지 않기 때문에 첫 번째 단계는 Redux Toolkit과 React-Redux를 설치하는 것입니다. 이것은 TypeScript 앱이므로<code>@ types / react-redux</code>도 추가해야합니다. Yarn 또는 NPM을 통해 해당 패키지를 프로젝트에 추가하십시오.</p><blockquote><p>-<a href="https://github.com/reduxjs/rtk-github-issues-example/compare/Add_Redux_Toolkit_and_React-Redux_packages~1..reduxjs:Add_Redux_Toolkit_and_React-Redux_packages">Redux Toolkit 및 React-Redux 패키지 추가</a></p></blockquote><p>다음으로 루트 리듀서 함수, Redux 스토어, 그리고 컴포넌트 트리에서 해당 스토어를 사용할 수 있도록<code>&lt;Provider&gt;</code>와 같은 일반적인 부분을 설정해야합니다.</p><p>이 과정에서 앱에 대한 &quot;핫 모듈 교체&quot;를 설정합니다. 이렇게하면 리듀서 로직이나 구성 요소 트리를 변경할 때마다 Create-React-App이 페이지를 완전히 새로 고칠 필요없이 앱을 다시 빌드하고 변경된 코드를 실행중인 앱으로 스왑합니다.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="root-reducer-만들기"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#root-reducer-만들기" title="Direct link to heading">#</a>Root Reducer 만들기</h4><blockquote><p>-<a href="https://github.com/reduxjs/rtk-github-issues-example/compare/Add_store_and_root_reducer_with_reducer_HMR~1..reduxjs:Add_store_and_root_reducer_with_reducer_HMR">Reducer HMR로 저장소 및 루트 감속기 추가</a></p></blockquote><p>먼저 루트 감속기 함수를 만듭니다. 아직 슬라이스가 없으므로 빈 객체를 반환합니다.</p><p>그러나 우리 코드가 Redux 저장소 상태에 액세스해야 할 때마다 &#x27;state&#x27;변수의 유형을 선언해야하기 때문에 해당 루트 상태 객체에 대한 TypeScript 유형이 무엇인지 알고 싶습니다 (예 : <code>mapState</code> 함수,<code>useSelector</code> 선택기 및 썽크의<code>getState</code>).</p><p>각 상태 슬라이스에 대해 올바른 유형으로 TS 유형을 수동으로 작성할 수 있지만 슬라이스의 상태 구조를 변경할 때마다 해당 유형을 계속 업데이트해야합니다. 다행히 TS는 우리가 이미 작성한 코드에서 유형을 추론하는 데 일반적으로 능숙합니다. 이 경우 &quot;이 유형은<code>rootReducer</code>에서 반환되는 모든 유형입니다&quot;라는 유형을 정의 할 수 있으며, TS는 코드가 변경됨에 따라 포함 된 내용을 자동으로 파악합니다. 해당 유형을 내 보내면 앱의 다른 부분에서 사용할 수 있으며 최신 상태임을 압니다. 우리가해야 할 일은 내장 TS<code>ReturnType</code> 유틸리티 유형을 사용하고 &quot;<code>rootReducer</code> 함수 유형&quot;을 일반 인수로 입력하는 것입니다.</p><p><strong>app/rootReducer.ts</strong></p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-ts codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#F92672">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> combineReducers </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">from</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;@reduxjs/toolkit&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> rootReducer </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">combineReducers</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">export</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">type</span><span class="token plain"> </span><span class="token maybe-class-name">RootState</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token maybe-class-name">ReturnType</span><span class="token operator" style="color:#F8F8F2">&lt;</span><span class="token keyword" style="color:#F92672">typeof</span><span class="token plain"> rootReducer</span><span class="token operator" style="color:#F8F8F2">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">export</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">default</span><span class="token plain"> rootReducer</span></div></code></pre></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="스토어-설정-및-hmr"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#스토어-설정-및-hmr" title="Direct link to heading">#</a>스토어 설정 및 HMR</h4><p>다음으로 루트 리듀서의 핫 리로딩을 포함하여 스토어 인스턴스를 생성합니다. <a href="https://webpack.js.org/concepts/hot-module-replacement/"><code>module.hot</code> API for reloading</a>을 사용하여 루트 감속기 함수의 새 버전을 언제든지 다시 가져올 수 있습니다. 다시 컴파일하고 대신 새 버전을 사용하도록 상점에 알립니다.</p><p><strong>app/store.ts</strong></p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-ts codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#F92672">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> configureStore </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">from</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;@reduxjs/toolkit&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">import</span><span class="token plain"> rootReducer </span><span class="token keyword" style="color:#F92672">from</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;./rootReducer&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> store </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">configureStore</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  reducer</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> rootReducer</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">process</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token constant" style="color:#F92672">NODE_ENV</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">===</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;development&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">&amp;&amp;</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">module</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">hot</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">module</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">hot</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">accept</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token string" style="color:#a6e22e">&#x27;./rootReducer&#x27;</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#F8F8F2">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> newRootReducer </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">require</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token string" style="color:#a6e22e">&#x27;./rootReducer&#x27;</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token keyword" style="color:#F92672">default</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    store</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">replaceReducer</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">newRootReducer</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">export</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">type</span><span class="token plain"> </span><span class="token maybe-class-name">AppDispatch</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">typeof</span><span class="token plain"> store</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">dispatch</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">export</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">default</span><span class="token plain"> store</span></div></code></pre></div><p><code>require ( &#x27;./ rootReducer&#x27;). default</code>는 약간 이상해 보입니다. 이는 CommonJS 동기 가져 오기 구문을 ES 모듈과 혼합하기 때문에 &quot;기본 내보내기&quot;는<code>default</code>라는 개체 필드에 있습니다. 우리는 아마도<code>import ()</code>를 사용하고 감속기 교체를 비동기 적으로 처리했을 수도 있습니다.</p><p>####<code>Provider</code> 렌더링</p><p>이제 저장소가 생성되었으므로 React 컴포넌트 트리에 추가 할 수 있습니다.</p><blockquote><p>-<a href="https://github.com/reduxjs/rtk-github-issues-example/compare/Render_Redux_Provider_with_app_HMR~1..reduxjs:Render_Redux_Provider_with_app_HMR">Render Redux Provider with app HMR</a></p></blockquote><p>루트 리듀서와 마찬가지로 컴포넌트 파일이 변경 될 때마다 React 컴포넌트 트리를 핫 리로드 할 수 있습니다. 가장 좋은 방법은<code>&lt;App&gt;</code>구성 요소를 가져 와서 렌더링하는 함수를 작성하고 시작시 한 번 호출하여 평소와 같이 React 구성 요소 트리를 표시 한 다음 구성 요소가 변경 될 때마다 해당 함수를 재사용하는 것입니다.</p><p><strong>index.tsx</strong></p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-tsx codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#F92672">import</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">from</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;react&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">import</span><span class="token plain"> </span><span class="token maybe-class-name">ReactDOM</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">from</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;react-dom&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> </span><span class="token maybe-class-name">Provider</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">from</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;react-redux&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">import</span><span class="token plain"> store </span><span class="token keyword" style="color:#F92672">from</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;./app/store&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">import</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;./index.css&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#E6D874">render</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token maybe-class-name">App</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">require</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token string" style="color:#a6e22e">&#x27;./app/App&#x27;</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token keyword" style="color:#F92672">default</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token maybe-class-name">ReactDOM</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token function" style="color:#E6D874">render</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token tag punctuation" style="color:#F8F8F2">&lt;</span><span class="token tag class-name" style="color:#F92672">Provider</span><span class="token tag" style="color:#F92672"> </span><span class="token tag attr-name" style="color:#a6e22e">store</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#F8F8F2">=</span><span class="token tag script language-javascript punctuation" style="color:#F8F8F2">{</span><span class="token tag script language-javascript" style="color:#F92672">store</span><span class="token tag script language-javascript punctuation" style="color:#F8F8F2">}</span><span class="token tag punctuation" style="color:#F8F8F2">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token tag punctuation" style="color:#F8F8F2">&lt;</span><span class="token tag class-name" style="color:#F92672">App</span><span class="token tag" style="color:#F92672"> </span><span class="token tag punctuation" style="color:#F8F8F2">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token tag punctuation" style="color:#F8F8F2">&lt;/</span><span class="token tag class-name" style="color:#F92672">Provider</span><span class="token tag punctuation" style="color:#F8F8F2">&gt;</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token dom variable" style="color:#F8F8F2">document</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token function" style="color:#E6D874">getElementById</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token string" style="color:#a6e22e">&#x27;root&#x27;</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token function" style="color:#E6D874">render</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">process</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token plain">env</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token constant" style="color:#F92672">NODE_ENV</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">===</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;development&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">&amp;&amp;</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">module</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token plain">hot</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">module</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token plain">hot</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token function" style="color:#E6D874">accept</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token string" style="color:#a6e22e">&#x27;./app/App&#x27;</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> render</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span></div></code></pre></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="메인-앱-디스플레이-변환"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#메인-앱-디스플레이-변환" title="Direct link to heading">#</a>메인 앱 디스플레이 변환</h2><p>메인 스토어 설정이 완료되면 이제 실제 앱 로직을 Redux를 사용하도록 변환 할 수 있습니다.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="기존-앱-상태-평가"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#기존-앱-상태-평가" title="Direct link to heading">#</a>기존 앱 상태 평가</h3><p>현재 최상위 &lt;<code>App&gt;</code>구성 요소는 React<code>useState</code> 후크를 사용하여 여러 정보를 저장합니다.</p><p>-선택한 Github 조직 및 저장소
-현재 호 목록 페이지 번호
-문제 목록을 보는지 아니면 특정 문제에 대한 세부 정보를 보는지</p><p>한편<code>&lt;RepoSearchForm&gt;</code>구성 요소는 상태 후크를 사용하여 제어 된 양식 입력에 대해 진행중인 작업 값을 저장합니다.</p><p>Redux FAQ에는 [Redux에 데이터를 넣는 것이 합리적 일 때에 대한 몇 가지 경험 규칙] (<a href="https://redux.js.org/faq/organizing-state#do-i-have-to-put-all-my">https://redux.js.org/faq/organizing-state#do-i-have-to-put-all-my</a> -state-into-redux- 나는 항상 사용-반응 -setstate). 이 경우<code>&lt;App&gt;</code>에서 상태 값을 추출하여 Redux 스토어에 넣는 것이 합리적입니다. 현재이를 사용하는 구성 요소는 하나 뿐이지 만 더 큰 앱에는 해당 값을 고려하는 여러 구성 요소가있을 수 있습니다. HMR을 설정 했으므로 나중에 구성 요소 트리를 편집 할 때 해당 값을 유지하는 것도 도움이 될 것입니다.</p><p>반면에 WIP 양식 값을 Redux 저장소에 <em> 할 수는 있지만 </em> 그렇게해도 실질적인 이점은 없습니다. <code>&lt;RepoSearchForm&gt;</code>구성 요소 만 해당 값에 관심이 있으며 다른 경험 규칙은 여기에 적용되지 않습니다. 일반적으로 [대부분의 양식 상태는 Redux에 보관해서는 안됩니다] (<a href="https://redux.js.org/faq/organizing-state#should-i-put-form-state-or-other-ui-state">https://redux.js.org/faq/organizing-state#should-i-put-form-state-or-other-ui-state</a> -in-my-store). 그래서 우리는 그것을 내버려 둘 것입니다.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="초기-상태-슬라이스-생성"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#초기-상태-슬라이스-생성" title="Direct link to heading">#</a>초기 상태 슬라이스 생성</h3><p>첫 번째 단계는 현재<code>&lt;App&gt;</code>에 보관되고있는 데이터를 살펴보고이를 &quot;문제 표시&quot;슬라이스의 유형과 초기 상태 값으로 바꾸는 것입니다. 거기에서 리듀서를 정의하여 적절하게 업데이트 할 수 있습니다.</p><p>전체 슬라이스의 소스를 살펴본 다음 어떤 작업을하는지 분석해 보겠습니다.</p><blockquote><p>-<a href="https://github.com/reduxjs/rtk-github-issues-example/compare/Add_initial_state_slice_for_UI_display~1..reduxjs:Add_initial_state_slice_for_UI_display">UI 표시를위한 초기 상태 슬라이스 추가</a></p></blockquote><p><strong>features/issuesDisplay/issuesDisplaySlice.ts</strong></p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-ts codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#F92672">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> createSlice</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> </span><span class="token maybe-class-name">PayloadAction</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">from</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;@reduxjs/toolkit&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">interface</span><span class="token plain"> </span><span class="token class-name">CurrentDisplay</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  displayType</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;issues&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">|</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;comments&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  issueId</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token builtin" style="color:#a6e22e">number</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">|</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">null</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">interface</span><span class="token plain"> </span><span class="token class-name">CurrentDisplayPayload</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  displayType</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;issues&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">|</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;comments&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  issueId</span><span class="token operator" style="color:#F8F8F2">?</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token builtin" style="color:#a6e22e">number</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">interface</span><span class="token plain"> </span><span class="token class-name">CurrentRepo</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  org</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token builtin" style="color:#a6e22e">string</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  repo</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token builtin" style="color:#a6e22e">string</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">type</span><span class="token plain"> </span><span class="token maybe-class-name">CurrentDisplayState</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  page</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token builtin" style="color:#a6e22e">number</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">&amp;</span><span class="token plain"> </span><span class="token maybe-class-name">CurrentDisplay</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">&amp;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token maybe-class-name">CurrentRepo</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">let</span><span class="token plain"> initialState</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token maybe-class-name">CurrentDisplayState</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  org</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;rails&#x27;</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  repo</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;rails&#x27;</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  page</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token number" style="color:#AE81FF">1</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  displayType</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;issues&#x27;</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  issueId</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">null</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> issuesDisplaySlice </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">createSlice</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  name</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;issuesDisplay&#x27;</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  initialState</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  reducers</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#E6D874">displayRepo</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">state</span><span class="token parameter punctuation" style="color:#F8F8F2">,</span><span class="token parameter"> action</span><span class="token parameter punctuation" style="color:#F8F8F2">:</span><span class="token parameter"> PayloadAction</span><span class="token parameter operator" style="color:#F8F8F2">&lt;</span><span class="token parameter">CurrentRepo</span><span class="token parameter operator" style="color:#F8F8F2">&gt;</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> org</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> repo </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> action</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">payload</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">org</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> org</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">repo</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> repo</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#E6D874">setCurrentPage</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">state</span><span class="token parameter punctuation" style="color:#F8F8F2">,</span><span class="token parameter"> action</span><span class="token parameter punctuation" style="color:#F8F8F2">:</span><span class="token parameter"> PayloadAction</span><span class="token parameter operator" style="color:#F8F8F2">&lt;</span><span class="token parameter">number</span><span class="token parameter operator" style="color:#F8F8F2">&gt;</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">page</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> action</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">payload</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#E6D874">setCurrentDisplayType</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">state</span><span class="token parameter punctuation" style="color:#F8F8F2">,</span><span class="token parameter"> action</span><span class="token parameter punctuation" style="color:#F8F8F2">:</span><span class="token parameter"> PayloadAction</span><span class="token parameter operator" style="color:#F8F8F2">&lt;</span><span class="token parameter">CurrentDisplayPayload</span><span class="token parameter operator" style="color:#F8F8F2">&gt;</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> displayType</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> issueId </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">null</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> action</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">payload</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">displayType</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> displayType</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">issueId</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> issueId</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">export</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  displayRepo</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  setCurrentDisplayType</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  setCurrentPage</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> issuesDisplaySlice</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">actions</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">export</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">default</span><span class="token plain"> issuesDisplaySlice</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">reducer</span></div></code></pre></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="상태-내용-유형-선언"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#상태-내용-유형-선언" title="Direct link to heading">#</a>상태 내용 유형 선언</h4><p>org 및 repo 값은 단순한 문자열이며 현재 문제 페이지는 숫자 일뿐입니다. 문자열 상수의 합집합을 사용하여 문제 목록 또는 단일 문제의 세부 정보를 표시하는지 여부를 나타내며 세부 정보 인 경우 문제 ID 번호를 알아야합니다.</p><p>나중에 액션 유형에서 재사용 할 수 있도록 이러한 부분에 대한 유형을 스스로 정의 할 수 있으며 추적하려는 전체 상태에 대해 더 큰 유형으로 결합 할 수도 있습니다.</p><p>상태에 대해 나열된 유형에 페이지 번호가 포함되어 있기 때문에 &quot;현재 표시&quot;부분에는 약간의 추가 작업이 필요하지만 UI는 문제 목록으로 전환하는 작업을 전달할 때 하나를 포함하지 않습니다. 따라서 해당 작업의 내용에 대해 별도의 유형을 정의합니다.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="슬라이스-상태-및-작업에-대한-유형-선언"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#슬라이스-상태-및-작업에-대한-유형-선언" title="Direct link to heading">#</a>슬라이스 상태 및 작업에 대한 유형 선언</h4><p><code>createSlice</code>는 두 가지 소스에서 유형을 추론하려고합니다.</p><p>-상태 유형은 &#x27;initialState&#x27;필드의 유형을 기반으로합니다.
-각 감속기는 처리 할 작업 유형을 선언해야합니다.</p><p>상태 유형은 각 케이스 리듀서에서 &#x27;state&#x27;매개 변수의 유형과 생성 된 리듀서 함수의 반환 유형으로 사용되며, 해당 생성 된 액션 생성자에 대해 액션 유형이 사용됩니다. (또는 감속기와 함께 &quot;콜백 준비&quot;를 정의하는 경우 준비 콜백의 인수가 작업 생성자에게도 사용되며 콜백의 반환 값은 감속기가 예상하는 작업에 대해 선언 된 유형과 일치해야합니다.)</p><p>감속기에서 작업 유형을 선언 할 때 사용할 기본 유형은 <strong><code>PayloadAction &lt;PayloadType&gt;</code></strong>입니다. <code>createAction</code>은이 유형을 반환 값으로 사용합니다.</p><p>특정 감속기를 예로 들어 보겠습니다.</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-ts codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token function" style="color:#E6D874">setCurrentPage</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">state</span><span class="token parameter punctuation" style="color:#F8F8F2">,</span><span class="token parameter"> action</span><span class="token parameter punctuation" style="color:#F8F8F2">:</span><span class="token parameter"> PayloadAction</span><span class="token parameter operator" style="color:#F8F8F2">&lt;</span><span class="token parameter">number</span><span class="token parameter operator" style="color:#F8F8F2">&gt;</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">page</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> action</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">payload</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">,</span></div></code></pre></div><p><code>createSlice</code>는 이것이 우리의<code>initialState</code> (<code>CurrentDisplayState</code> 유형)와 동일한 유형이어야한다는 것을 이미 알고 있기 때문에<code>state</code>에 대한 유형을 선언 할 필요가 없습니다.</p><p>액션 객체는<code>PayloadAction</code>이며<code>action.payload</code>는<code>숫자</code>라고 선언합니다. 그런 다음<code>state.page = action.payload</code>를 할당하면 TS는 숫자에 숫자를 할당하고 있음을 알고 올바르게 작동합니다. <code>issuesDisplaySlice.actions.setCurrentPage ()</code>를 호출하려고한다면 그 숫자가 액션의 페이로드가되기 때문에 인수로 숫자를 전달해야합니다.</p><p>마찬가지로<code>displayRepo (state, action : PayloadAction &lt;CurrentRepo&gt;)</code>의 경우 TS는<code>action.payload</code>가<code>org</code> 및<code>repo</code> 문자열 필드가있는 객체임을 알고 있으며이를 상태에 할당 할 수 있습니다. (이 &quot;mutative&quot;할당은 &#x27;createSlice&#x27;가 내부 Immer를 사용하기 때문에 안전하고 가능합니다!)</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="slice-reducer-사용"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#slice-reducer-사용" title="Direct link to heading">#</a>Slice Reducer 사용</h4><p>다른 예제와 마찬가지로, 이슈 디스플레이 슬라이스 리듀서를 루트 리듀서로 가져 와서 추가해야합니다.</p><p><strong>app/rootReducer.ts</strong></p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-diff codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token plain">import { combineReducers } from &#x27;@reduxjs/toolkit&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+import issuesDisplayReducer from &#x27;features/issuesDisplay/issuesDisplaySlice&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token deleted-sign deleted" style="color:#F92672">-const rootReducer = combineReducers({})</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+const rootReducer = combineReducers({</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+ issuesDisplay: issuesDisplayReducer</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+})</span></div></code></pre></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="이슈-디스플레이-변환"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#이슈-디스플레이-변환" title="Direct link to heading">#</a>이슈 디스플레이 변환</h3><p>이슈 디스플레이 슬라이스가 스토어에 연결되었으므로 내부 구성 요소 상태 대신 사용하도록<code>&lt;App&gt;</code>을 업데이트 할 수 있습니다.</p><blockquote><p>-<a href="https://github.com/reduxjs/rtk-github-issues-example/compare/Convert_main_issues_display_control_to_Redux~1..reduxjs:Convert_main_issues_display_control_to_Redux">주요 이슈 디스플레이 컨트롤을 Redux로 변환</a></p></blockquote><p><code>App</code> 구성 요소에 세 가지 그룹을 변경해야합니다.</p><p>-<code>useState</code> 선언을 제거해야합니다.
-Redux 스토어에서 해당 상태 값을 읽어야합니다.
-사용자가 구성 요소와 상호 작용할 때 Redux 작업을 전달해야합니다.</p><p>전통적으로 마지막 두 가지 측면은 <a href="https://react-redux.js.org/api/connect">React-Redux<code>connect</code> API</a>를 통해 처리됩니다. 데이터를 검색하는<code>mapState</code> 함수와 액션 생성자를 보관하는<code>mapDispatch</code> 함수를 작성하고,이를<code>connect</code>에 전달하고, 모든 것을 props로 가져온 다음<code>this.props.setCurrentPage ()</code>를 호출하여 해당 액션 유형을 전달합니다.</p><p>그러나 <a href="https://react-redux.js.org/api/hooks">React-Redux에는 이제 후크 API가 있습니다</a>, 스토어와보다 직접적으로 상호 작용할 수 있습니다. <code>useSelector</code>를 사용하면 스토어에서 데이터를 읽고 업데이트를 구독 할 수 있으며<code>useDispatch</code>는 스토어의<code>dispatch</code> 메소드에 대한 참조를 제공합니다. 이 튜토리얼의 나머지 부분에서이를 사용합니다.</p><p>먼저 필요한 함수와 앞서 선언 한<code>RootState</code> 유형을 가져 와서 하드 코딩 된 기본 조직 및 저장소 문자열을 제거합니다.
<strong>app/App.tsx</strong></p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-diff codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token plain">import React, { useState } from &#x27;react&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+import { useSelector, useDispatch } from &#x27;react-redux&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+import { RootState } from &#x27;./rootReducer&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">import { RepoSearchForm } from &#x27;features/repoSearch/RepoSearchForm&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">import { IssuesListPage } from &#x27;features/issuesList/IssuesListPage&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">import { IssueDetailsPage } from &#x27;features/issueDetails/IssueDetailsPage&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token deleted-sign deleted" style="color:#F92672">-const ORG = &#x27;rails&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-const REPO = &#x27;rails&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+import {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+  displayRepo,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+  setCurrentDisplayType,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+  setCurrentPage</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+} from &#x27;features/issuesDisplay/issuesDisplaySlice&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">import &#x27;./App.css&#x27;</span></div></code></pre></div><p>다음으로,<code>App</code> 상단에서 이전<code>useState</code> 후크를 제거하고<code>useDispatch</code> 및<code>useSelector</code> 호출로 대체합니다.</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-diff codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token plain">const App: React.FC = () =&gt; {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token deleted-sign deleted" style="color:#F92672">- const [org, setOrg] = useState(ORG)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">- const [repo, setRepo] = useState(REPO)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">- const [page, setPage] = useState(1)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">- const [currentDisplay, setCurrentDisplay] = useState&lt;CurrentDisplay&gt;({</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-   type: &#x27;issues&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">- })</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+ const dispatch = useDispatch()</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+ const { org, repo, displayType, page, issueId } = useSelector(</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+   (state: RootState) =&gt; state.issuesDisplay</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+ )</span></div></code></pre></div><p>&quot;selector&quot;함수를<code>useSelector</code>에 전달합니다.이 함수는 Redux 스토어 상태를 매개 변수로 받아들이고 일부 결과를 반환하는 함수입니다. 우리는<code>state</code> 인자의 유형이 루트 감속기에서 정의한<code>RootState</code> 유형임을 선언하므로 TS는<code>state</code> 안에 어떤 필드가 있는지 알 수 있습니다. <code>state.issuesDisplay</code> 슬라이스를 하나의 조각으로 검색하고 결과 객체를 구성 요소 내부의 여러 변수로 분해 할 수 있습니다.</p><p>이제 이전과 같이 컴포넌트 내부에 거의 동일한 데이터 변수가 있습니다.<code>useState</code> 후크 대신 Redux 스토어에서 온 것입니다.</p><p>마지막 단계는<code>useState</code> setter를 호출하는 대신 사용자가 무언가를 할 때마다 Redux 액션을 전달하는 것입니다.</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-diff codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token plain">const setOrgAndRepo = (org: string, repo: string) =&gt; {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token deleted-sign deleted" style="color:#F92672">-   setOrg(org)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-   setRepo(repo)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+   dispatch(displayRepo({ org, repo }))</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token unchanged">  }</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token unchanged">  const setJumpToPage = (page: number) =&gt; {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged"></span><span class="token deleted-sign deleted" style="color:#F92672">-   setPage(page)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+   dispatch(setCurrentPage(page))</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token unchanged">  }</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token unchanged">  const showIssuesList = () =&gt; {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged"></span><span class="token deleted-sign deleted" style="color:#F92672">-   setCurrentDisplay({ type: &#x27;issues&#x27; })</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+   dispatch(setCurrentDisplayType({ displayType: &#x27;issues&#x27; }))</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token unchanged">  }</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token unchanged">  const showIssueComments = (issueId: number) =&gt; {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged"></span><span class="token deleted-sign deleted" style="color:#F92672">-   setCurrentDisplay({ type: &#x27;comments&#x27;, issueId })</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+   dispatch(setCurrentDisplayType({ displayType: &#x27;comments&#x27;, issueId }))</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token unchanged">  }</span></div></code></pre></div><p>일반적인<code>connect</code> +<code>mapDispatch</code> 사용법과 달리 여기서는<code>dispatch ()</code>를 직접 호출하고 올바른<code>payload</code> 값으로 액션 생성자를 호출하고 결과 액션을<code>dispatch</code>에 전달합니다.</p><p>이것이 작동하는지 봅시다!</p><iframe src="https://codesandbox.io/embed/rtk-github-issues-example-02-issues-display-tdx2w?fontsize=14&amp;hidenavigation=1&amp;module=%2Fsrc%2Fapp%2FApp.tsx&amp;theme=dark&amp;view=preview" style="width:100%;height:500px;border:0;border-radius:4px;overflow:hidden" title="rtk-github-issues-example-02-issues-display" allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"></iframe><p>&quot;이건 이전 예제와 똑같이 보이고 동작한다&quot;고 생각한다면... 훌륭합니다! 즉, 지금까지 논리의 첫 번째 비트를 Redux로 올바르게 변환했음을 의미합니다. Redux 로직이 실행 중인지 확인하려면 &quot;새 창에서 열기&quot;버튼을 클릭하고 Redux DevTools Extension에서 상점을 검사하십시오.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="이슈-목록-페이지-변환"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#이슈-목록-페이지-변환" title="Direct link to heading">#</a>이슈 목록 페이지 변환</h2><p>다음 작업은<code>&lt;IssuesListPage&gt;</code>구성 요소를 Redux를 통해 문제를 가져오고 저장하도록 변환하는 것입니다. 현재<code>&lt;IssuesListPage&gt;</code>는 가져온 이슈를 포함하여 모든 데이터를 <code>useState</code>hooks에 저장하고 있습니다. ʻuseEffect` 후크에서 AJAX 호출을 수행하여 문제를 가져옵니다.</p><p>처음에 언급했듯이 실제로 이것에는 잘못된 것이 없습니다! React 구성 요소가 자체 데이터를 가져와 저장하는 것은 완전히 괜찮습니다. 그러나이 튜토리얼의 목적을 위해 Redux 변환 프로세스가 어떻게 보이는지보고 싶습니다.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="문제-목록-구성-요소-검토"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#문제-목록-구성-요소-검토" title="Direct link to heading">#</a>문제 목록 구성 요소 검토</h3><p>다음은<code>&lt;IssuesListPage&gt;</code>의 초기 청크입니다.</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-ts codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#F92672">export</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:#E6D874">IssuesListPage</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter punctuation" style="color:#F8F8F2">{</span><span class="token parameter"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token parameter">  org</span><span class="token parameter punctuation" style="color:#F8F8F2">,</span><span class="token parameter"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token parameter">  repo</span><span class="token parameter punctuation" style="color:#F8F8F2">,</span><span class="token parameter"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token parameter">  page </span><span class="token parameter operator" style="color:#F8F8F2">=</span><span class="token parameter"> </span><span class="token parameter number" style="color:#AE81FF">1</span><span class="token parameter punctuation" style="color:#F8F8F2">,</span><span class="token parameter"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token parameter">  setJumpToPage</span><span class="token parameter punctuation" style="color:#F8F8F2">,</span><span class="token parameter"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token parameter">  showIssueComments</span></div><div class="token-line" style="color:#f8f8f2"><span class="token parameter"></span><span class="token parameter punctuation" style="color:#F8F8F2">}</span><span class="token parameter punctuation" style="color:#F8F8F2">:</span><span class="token parameter"> ILProps</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#F8F8F2">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token plain">issuesResult</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> setIssues</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> useState</span><span class="token operator" style="color:#F8F8F2">&lt;</span><span class="token maybe-class-name">IssuesResult</span><span class="token operator" style="color:#F8F8F2">&gt;</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    pageLinks</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">null</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    pageCount</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token number" style="color:#AE81FF">1</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    issues</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token plain">numIssues</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> setNumIssues</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> useState</span><span class="token operator" style="color:#F8F8F2">&lt;</span><span class="token builtin" style="color:#a6e22e">number</span><span class="token operator" style="color:#F8F8F2">&gt;</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token operator" style="color:#F8F8F2">-</span><span class="token number" style="color:#AE81FF">1</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token plain">isLoading</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> setIsLoading</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> useState</span><span class="token operator" style="color:#F8F8F2">&lt;</span><span class="token builtin" style="color:#a6e22e">boolean</span><span class="token operator" style="color:#F8F8F2">&gt;</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token boolean" style="color:#AE81FF">false</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token plain">issuesError</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> setIssuesError</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> useState</span><span class="token operator" style="color:#F8F8F2">&lt;</span><span class="token known-class-name class-name">Error</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">|</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">null</span><span class="token operator" style="color:#F8F8F2">&gt;</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token keyword" style="color:#F92672">null</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> issues</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> pageCount </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> issuesResult</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token function" style="color:#E6D874">useEffect</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#F8F8F2">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#F92672">async</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">fetchEverything</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token keyword" style="color:#F92672">async</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">fetchIssues</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> issuesResult </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">await</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">getIssues</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">org</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> repo</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> page</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token function" style="color:#E6D874">setIssues</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">issuesResult</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token keyword" style="color:#F92672">async</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">fetchIssueCount</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> repoDetails </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">await</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">getRepoDetails</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">org</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> repo</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token function" style="color:#E6D874">setNumIssues</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">repoDetails</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">open_issues_count</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token keyword" style="color:#F92672">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#F92672">await</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">all</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token function" style="color:#E6D874">fetchIssues</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">fetchIssueCount</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token function" style="color:#E6D874">setIssuesError</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token keyword" style="color:#F92672">null</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">error</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token function" style="color:#E6D874">setIssuesError</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">finally</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token function" style="color:#E6D874">setIsLoading</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token boolean" style="color:#AE81FF">false</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#E6D874">setIsLoading</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token boolean" style="color:#AE81FF">true</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#E6D874">fetchEverything</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token plain">org</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> repo</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> page</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token comment" style="color:#778090">// omit rendering</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span></div></code></pre></div><p><code>useEffect</code> 콜백은 외부 &#x27;async function fetchEverything ()&#x27;을 정의하고 즉시 호출합니다. <code>useEffect</code> 콜백 자체를 비동기로 선언 할 수 없기 때문입니다. React는 <code>useEffect</code> 콜백의 반환 값이 정리 함수가 될 것으로 예상합니다. 모든 비동기 함수는 자동으로<code>Promise</code>를 반환하기 때문에 React는 대신<code>Promise</code>를 인식하고 React가 실제로 올바르게 정리하지 못하게합니다.</p><p>내부에서 이슈를 가져오고 미해결 이슈 수를 가져 오는 두 가지 비동기 함수를 더 정의하고 둘 다 호출합니다. 그런 다음 두 함수가 성공적으로 해결 될 때까지 기다립니다. (이 논리를 구성 할 수있는 몇 가지 다른 방법이 있지만 예제로는 충분했습니다.)</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="thunk에서-생각하기"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#thunk에서-생각하기" title="Direct link to heading">#</a>Thunk에서 생각하기</h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="thunk란-무엇입니까"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#thunk란-무엇입니까" title="Direct link to heading">#</a>&quot;Thunk&quot;란 무엇입니까?</h4><p>Redux 코어 (즉,<code>createStore</code>)는 완전히 동 기적입니다. <code>store.dispatch()</code>를 호출하면 스토어가 루트 리듀서를 실행하고 반환 값을 저장하고 구독자 콜백을 실행하고 일시 중지없이 반환합니다. 기본적으로 모든 비동기 성은 저장소 외부에서 발생해야합니다.</p><p>그러나 현재 스토어 상태를 디스패치하거나 확인하여 비동기 로직이 스토어와 상호 작용하게하려면 어떻게해야할까요? 이것이 바로 <a href="https://redux.js.org/advanced/middleware">Redux 미들웨어</a>가 들어오는 곳입니다. 스토어를 확장하고 다음을 수행 할 수 있습니다.</p><p>-조치가 전달 될 때 추가 논리 실행 (예 : 조치 및 상태 로깅)
-디스패치 된 작업 일시 중지, 수정, 지연, 교체 또는 중지
-<code>dispatch</code> 및<code>getState</code>에 대한 액세스 권한이있는 추가 코드 작성
-함수 나 프라 미스와 같은 일반 액션 객체 외에 다른 값을 가로 채고 대신 실제 액션 객체를 디스패치하여 받아들이는 방법을 &#x27;dispatch&#x27;에 가르칩니다.</p><p>가장 일반적인 Redux 미들웨어는 <a href="https://github.com/reduxjs/redux-thunk"><code>redux-thunk</code></a>입니다. &quot;thunk&quot;라는 단어는 &quot;나중까지 계산을 지연시키는 기능&quot;을 의미합니다. 우리의 경우 Redux 스토어에 썽크 미들웨어를 추가하면 함수를<code>store.dispatch ()</code>에 직접 전달할 수 있습니다. 썽크 미들웨어는 함수를보고 실제로 &quot;실제&quot;저장소에 도달하는 것을 방지하고 함수를 호출하고<code>dispatch</code> 및<code>getState</code>를 인수로 전달합니다. 따라서 &quot;thunk function&quot;은 다음과 같습니다.</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-js codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">exampleThunkFunction</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">dispatch</span><span class="token parameter punctuation" style="color:#F8F8F2">,</span><span class="token parameter"> getState</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token comment" style="color:#778090">// do something useful with dispatching or the store state here</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#778090">// normally an error, but okay if the thunk middleware is added</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">store</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">dispatch</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">exampleThunkFunction</span><span class="token punctuation" style="color:#F8F8F2">)</span></div></code></pre></div><p>thunk 함수 내에서 원하는 코드를 작성할 수 있습니다. 가장 일반적인 사용법은 AJAX 호출을 통해 일부 데이터를 가져오고 해당 데이터를 Redux 저장소에로드하는 작업을 보내는 것입니다. ʻasync / await` 구문을 사용하면 AJAX 호출을 수행하는 썽크를 더 쉽게 작성할 수 있습니다.</p><p>일반적으로 우리는 코드에 액션 객체를 직접 작성하지 않습니다. 액션 생성 함수를 사용하여 만들고<code>dispatch (addTodo ())</code>처럼 사용합니다. 같은 방식으로, 우리는 일반적으로 다음과 같이 썽크 함수를 반환하는 &quot;thunk action creator&quot;함수를 작성합니다.</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-js codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">exampleThunk</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">return</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">exampleThunkFunction</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">dispatch</span><span class="token parameter punctuation" style="color:#F8F8F2">,</span><span class="token parameter"> getState</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token comment" style="color:#778090">// do something useful with dispatching or the store state here</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#778090">// normally an error, but okay if the thunk middleware is added</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">store</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">dispatch</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token function" style="color:#E6D874">exampleThunk</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">)</span></div></code></pre></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="왜-thunks를-쓸까요"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#왜-thunks를-쓸까요" title="Direct link to heading">#</a>왜 Thunks를 쓸까요?</h4><p>이 모든 것의 요점이 무엇인지 궁금 할 것입니다. 썽크를 사용하는 데는 몇 가지 이유가 있습니다.</p><ul><li>thunk를 사용하면 <em>a</em> Redux 스토어와 상호 작용하는 재사용 가능한 로직을 작성할 수 있지만 특정 스토어 인스턴스를 참조 할 필요가 없습니다.</li><li>Thunk를 사용하면 구성 요소 외부로 더 복잡한 논리를 이동할 수 있습니다.</li><li>컴포넌트의 관점에서 보면 평범한 액션을 전달하든 비동기 로직을 ​​시작하든 상관하지 않습니다. 단지<code>dispatch (doSomething())</code>을 호출하고 계속 진행합니다.</li><li>Thunk는 promise와 같은 값을 반환하여 구성 요소 내부의 논리가 다른 작업이 완료 될 때까지 기다릴 수 있습니다.</li></ul><p>자세한 설명은 <a href="https://github.com/reduxjs/redux-thunk#why-do-i-need-this"><code>redux-thunk</code>문서</a>를 참조하세요.</p><p>비동기 기능을 추가하는 다른 종류의 Redux 미들웨어가 많이 있습니다. 가장 인기있는 것은 생성기 함수를 사용하는 <a href="https://redux-saga.js.org/"><code>redux-saga</code></a>와 <a href="https://redux.js.org/faq/actions#what-async-middleware-should-i-use-how-do-you-decide-between-thunks-sagas-observables-or-something-else"><code>redux-observable</code></a>.</p><p>그러나 sagas 및 Observable은 유용하지만 대부분의 앱에는 제공하는 성능과 기능이 필요하지 않습니다. 그래서 <strong>thunks는 Redux</strong>로 비동기 로직을 ​​작성하기위한 기본 권장 방식입니다.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="redux-toolkit에서-thunk-작성하기"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#redux-toolkit에서-thunk-작성하기" title="Direct link to heading">#</a>Redux Toolkit에서 Thunk 작성하기</h4><p>썽크 함수를 작성하려면 설정 프로세스의 일부로 &#x27;redux-thunk&#x27;미들웨어를 저장소에 추가해야합니다. Redux Toolkit의<code>configureStore</code> 기능은 자동으로 수행됩니다. [<code>thunk</code>는 기본 미들웨어 중 하나입니다] (../ api / getDefaultMiddleware.md).</p><p>그러나 Redux Toolkit은 현재 썽크 함수 작성을위한 특수 함수 나 구문을 제공하지 않습니다. 특히<code>createSlice ()</code>호출의 일부로 정의 할 수 없습니다. 감속기 로직과 별도로 작성해야합니다.</p><p>일반적인 Redux 앱에서 썽크 액션 생성자는 보통 일반 액션 생성자와 함께 &quot;액션&quot;파일에 정의됩니다. Thunks는 일반적으로<code>dispatch (dataLoaded (response.data))</code>와 같은 일반 작업을 전달합니다.</p><p>별도의 &quot;작업&quot;파일이 없기 때문에 이러한 썽크를 &quot;슬라이스&quot;파일에 직접 작성하는 것이 좋습니다. 이렇게하면 슬라이스에서 일반 액션 제작자에 액세스 할 수 있으며 썽크 함수가 어디에 있는지 쉽게 찾을 수 있습니다.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="github-repo-세부-정보를-가져-오는-논리"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#github-repo-세부-정보를-가져-오는-논리" title="Direct link to heading">#</a>Github Repo 세부 정보를 가져 오는 논리</h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="재사용-가능한-thunk-함수-유형-추가"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#재사용-가능한-thunk-함수-유형-추가" title="Direct link to heading">#</a>재사용 가능한 Thunk 함수 유형 추가</h4><p>썽크 미들웨어가 이미 설정되어 있으므로 작업을 수행 할 필요가 없습니다. 그러나 썽크에 대한 TypeScript 유형은 다소 길고 혼란스럽고 일반적으로 우리가 작성하는 모든 썽크 함수에 대해 동일한 유형 선언을 반복해야합니다.</p><p>더 진행하기 전에 대신 재사용 할 수있는 유형 선언을 추가해 보겠습니다.</p><blockquote><ul><li><a href="https://github.com/reduxjs/rtk-github-issues-example/compare/Add_AppThunk_type~1..reduxjs:Add_AppThunk_type">Add AppThunk type</a></li></ul></blockquote><p><strong>app/store.ts</strong></p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-diff codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-import { configureStore } from &#x27;@reduxjs/toolkit&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+import { configureStore, Action } from &#x27;@reduxjs/toolkit&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+import { ThunkAction } from &#x27;redux-thunk&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token deleted-sign deleted" style="color:#F92672">-import rootReducer from &#x27;./rootReducer&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+import rootReducer, { RootState } from &#x27;./rootReducer&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">export type AppDispatch = typeof store.dispatch</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+export type AppThunk = ThunkAction&lt;void, RootState, unknown, Action&lt;string&gt;&gt;</span></div></code></pre></div><p><code>AppThunk</code> 유형은 우리가 사용하는 &quot;액션&quot;이 특히 썽크 함수임을 선언합니다. 썽 크는 몇 가지 추가 유형 매개 변수로 사용자 정의됩니다.</p><ol><li>반환 값 : 썽크가 아무것도 반환하지 않습니다.
2.<code>getState</code>의 상태 유형 :<code>RootState</code> 유형을 반환합니다.</li><li>&quot;추가 인수&quot;: 추가 값을 전달하도록 썽크 미들웨어를 사용자 정의 할 수 있지만이 앱에서는 그렇게하지 않습니다.
4.<code>dispatch</code>에서 허용하는 작업 유형 :<code>type</code>이 문자열 인 모든 작업.</li></ol><p>여기에 다른 유형 설정을 원하는 경우가 많이 있지만 이것이 아마도 가장 일반적인 설정일 것입니다. 이렇게하면 썽크를 작성할 때마다 동일한 유형 선언이 반복되는 것을 방지 할 수 있습니다.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="repo-세부-정보-조각-추가"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#repo-세부-정보-조각-추가" title="Direct link to heading">#</a>Repo 세부 정보 조각 추가</h4><p>이제 해당 유형이 있으므로 리포지토리에 대한 세부 정보를 가져 오는 상태 조각을 작성할 수 있습니다.</p><blockquote><ul><li><a href="https://github.com/reduxjs/rtk-github-issues-example/compare/Add_a_slice_for_storing_repo_details~1..reduxjs:Add_a_slice_for_storing_repo_details">Add a slice for storing repo details</a></li></ul></blockquote><p><strong>features/repoSearch/repoDetailsSlice.ts</strong></p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-ts codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#F92672">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> createSlice</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> </span><span class="token maybe-class-name">PayloadAction</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">from</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;@reduxjs/toolkit&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> </span><span class="token maybe-class-name">AppThunk</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">from</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;app/store&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> </span><span class="token maybe-class-name">RepoDetails</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> getRepoDetails </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">from</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;api/githubAPI&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">interface</span><span class="token plain"> </span><span class="token class-name">RepoDetailsState</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  openIssuesCount</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token builtin" style="color:#a6e22e">number</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  error</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token builtin" style="color:#a6e22e">string</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">|</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">null</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> initialState</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token maybe-class-name">RepoDetailsState</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  openIssuesCount</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">-</span><span class="token number" style="color:#AE81FF">1</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  error</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">null</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> repoDetails </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">createSlice</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  name</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;repoDetails&#x27;</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  initialState</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  reducers</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#E6D874">getRepoDetailsSuccess</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">state</span><span class="token parameter punctuation" style="color:#F8F8F2">,</span><span class="token parameter"> action</span><span class="token parameter punctuation" style="color:#F8F8F2">:</span><span class="token parameter"> PayloadAction</span><span class="token parameter operator" style="color:#F8F8F2">&lt;</span><span class="token parameter">RepoDetails</span><span class="token parameter operator" style="color:#F8F8F2">&gt;</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">openIssuesCount</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> action</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">payload</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">open_issues_count</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">error</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">null</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#E6D874">getRepoDetailsFailed</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">state</span><span class="token parameter punctuation" style="color:#F8F8F2">,</span><span class="token parameter"> action</span><span class="token parameter punctuation" style="color:#F8F8F2">:</span><span class="token parameter"> PayloadAction</span><span class="token parameter operator" style="color:#F8F8F2">&lt;</span><span class="token parameter">string</span><span class="token parameter operator" style="color:#F8F8F2">&gt;</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">openIssuesCount</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">-</span><span class="token number" style="color:#AE81FF">1</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">error</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> action</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">payload</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">export</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  getRepoDetailsSuccess</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  getRepoDetailsFailed</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> repoDetails</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">actions</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">export</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">default</span><span class="token plain"> repoDetails</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">reducer</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">export</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> fetchIssuesCount </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  org</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token builtin" style="color:#a6e22e">string</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  repo</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token builtin" style="color:#a6e22e">string</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token parameter">AppThunk</span><span class="token plain"> </span><span class="token arrow operator" style="color:#F8F8F2">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">async</span><span class="token plain"> </span><span class="token parameter">dispatch</span><span class="token plain"> </span><span class="token arrow operator" style="color:#F8F8F2">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> repoDetails </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">await</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">getRepoDetails</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">org</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> repo</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#E6D874">dispatch</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token function" style="color:#E6D874">getRepoDetailsSuccess</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">repoDetails</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#E6D874">dispatch</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token function" style="color:#E6D874">getRepoDetailsFailed</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">toString</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span></div></code></pre></div><p>첫 번째 부분은 간단 해 보입니다. 슬라이스 상태 모양, 초기 상태 값을 선언하고 열린 문제 수 또는 오류 문자열을 저장하는 리듀서로 슬라이스를 작성한 다음 액션 생성자와 리듀서를 내 보냅니다.</p><p>하단에는 첫 번째 데이터 가져 오기 썽크가 있습니다. 여기서 주목해야 할 중요한 사항은 다음과 같습니다.</p><ul><li><strong>Thunk는 슬라이스와 별도로 정의됩니다</strong>. RTK에는 현재 슬라이스의 일부로 썽크를 정의하는 특수 구문이 없기 때문입니다.</li><li><strong>Thunk Action Creator를 화살표 함수로 선언하고 방금 만든 <code>AppThunk</code> 유형을 사용합니다.</strong> 화살표 함수 또는<code>function</code>키워드를 사용하여 썽크 함수와 썽크 액션 생성자를 작성할 수 있습니다. 대신<code>function fetchIssueCount () : AppThunk</code>로 작성할 수도 있습니다.</li><li><strong>thunk 함수 자체에 <code>async / await</code> 구문을 사용합니다.</strong> 다시 말하지만, 이것은 필수는 아니지만 일반적으로 <code>async / await</code>는 중첩 된 Promise<code>.then ()</code>체인보다 코드가 더 간단합니다.</li><li><strong>Thunk 내부에서 <code>createSlice</code> 호출로 생성 된 일반 액션 크리에이터를 export합니다</strong>.</li></ul><p>표시되지는 않았지만 루트 감속기에 슬라이스 감속기를 추가합니다.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="thunk에서-비동기-에러-핸들링"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#thunk에서-비동기-에러-핸들링" title="Direct link to heading">#</a>Thunk에서 비동기 에러 핸들링</h4><p>작성된대로<code>fetchIssuesCount ()</code>썽크에 잠재적 인 결함이 하나 있습니다. <code>try / catch</code> 블록은 현재 발생한 오류를 포착합니다.
(실제 실패한 AJAX 호출과 같은)<code>getRepoDetails ()</code>에 의해 이루어 지지만<code>getRepoDetailsSuccess ()</code>의 디스패치 내에서 발생하는 모든 오류도 포착합니다. 두 경우 모두<code>getRepoDetailsFailed ()</code>를 전달합니다. 이것은 실제 오류가 무엇인지에 대한 잘못된 이유를 보여줄 수 있으므로 오류를 처리하는 데 바람직한 방법이 아닐 수 있습니다.</p><p>이 문제를 방지하기 위해 코드를 재구성 할 수있는 몇 가지 방법이 있습니다. 첫째, <code>await</code>는 성공 및 실패 사례에 대해 별도의 콜백이 전달되는 표준 약속 체인으로 전환 될 수 있습니다.</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-js codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token function" style="color:#E6D874">getRepoDetails</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">org</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> repo</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">then</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token comment" style="color:#778090">// success callback</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token parameter">repoDetails</span><span class="token plain"> </span><span class="token arrow operator" style="color:#F8F8F2">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">dispatch</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token function" style="color:#E6D874">getRepoDetailsSuccess</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">repoDetails</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token comment" style="color:#778090">// error callback</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token parameter">err</span><span class="token plain"> </span><span class="token arrow operator" style="color:#F8F8F2">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">dispatch</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token function" style="color:#E6D874">getRepoDetailsFailed</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">toString</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">)</span></div></code></pre></div><p>또는 오류가 발견되지 않은 경우에만 dispatch하도록 thunk를 다시 작성할 수 있습니다.</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-ts codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#F92672">let</span><span class="token plain"> repoDetails</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    repoDetails </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">await</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">getRepoDetails</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">org</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> repo</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#E6D874">dispatch</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token function" style="color:#E6D874">getRepoDetailsFailed</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">toString</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#F92672">return</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token function" style="color:#E6D874">dispatch</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token function" style="color:#E6D874">getRepoDetailsSuccess</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">repoDetails</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span></div></code></pre></div><p>간단하게하기 위해 나머지 튜토리얼에서는 로직을 그대로 사용하겠습니다.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="문제-목록에서-repo-세부-정보-가져-오기"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#문제-목록에서-repo-세부-정보-가져-오기" title="Direct link to heading">#</a>문제 목록에서 Repo 세부 정보 가져 오기</h3><p>이제 저장소 세부 정보 조각이 있으므로<code>&lt;IssuesListPage&gt;</code>구성 요소에서 사용할 수 있습니다.</p><blockquote><ul><li><a href="https://github.com/reduxjs/rtk-github-issues-example/compare/Update_IssuesListPage_to_fetch_repo_details_via_Redux~1..reduxjs:Update_IssuesListPage_to_fetch_repo_details_via_Redux">Redux를 통해 리포지토리 세부 정보를 가져 오도록 IssuesListPage 업데이트</a></li></ul></blockquote><p><strong>features/issuesList/IssuesListPage.tsx</strong></p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-diff codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token plain">import React, { useState, useEffect } from &#x27;react&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+import { useSelector, useDispatch } from &#x27;react-redux&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token deleted-sign deleted" style="color:#F92672">-import { getIssues, getRepoDetails, IssuesResult } from &#x27;api/githubAPI&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+import { getIssues, IssuesResult } from &#x27;api/githubAPI&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+import { fetchIssuesCount } from &#x27;features/repoSearch/repoDetailsSlice&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+import { RootState } from &#x27;app/rootReducer&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">// omit code</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">export const IssuesListPage = ({</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token unchanged">  org,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">  repo,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">  page = 1,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">  setJumpToPage,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">  showIssueComments</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged"></span><span class="token plain">}: ILProps) =&gt; {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+ const dispatch = useDispatch()</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token unchanged">  const [issuesResult, setIssues] = useState&lt;IssuesResult&gt;({</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">    pageLinks: null,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">    pageCount: 1,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">    issues: []</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">  })</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged"></span><span class="token deleted-sign deleted" style="color:#F92672">- const [numIssues, setNumIssues] = useState&lt;number&gt;(-1)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token unchanged">  const [isLoading, setIsLoading] = useState&lt;boolean&gt;(false)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">  const [issuesError, setIssuesError] = useState&lt;Error | null&gt;(null)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+ const openIssueCount = useSelector(</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+   (state: RootState) =&gt; state.repoDetails.openIssuesCount</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+ )</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token unchanged">  useEffect(() =&gt; {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">    async function fetchEverything() {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">      async function fetchIssues() {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">        const issuesResult = await getIssues(org, repo, page)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">        setIssues(issuesResult)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">      }</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token deleted-sign deleted" style="color:#F92672">-     async function fetchIssueCount() {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-       const repoDetails = await getRepoDetails(org, repo)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-       setNumIssues(repoDetails.open_issues_count)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-     }</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token unchanged">      try {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged"></span><span class="token deleted-sign deleted" style="color:#F92672">-       await Promise.all([fetchIssues(), fetchIssueCount()])</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+       await Promise.all([</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+         fetchIssues(),</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+         dispatch(fetchIssuesCount(org, repo))</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+       ])</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token unchanged">        setIssuesError(null)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">      } catch (err) {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">        console.error(err)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">        setIssuesError(err)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">      } finally {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">        setIsLoading(false)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">      }</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">    }</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token unchanged">    setIsLoading(true)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token unchanged">    fetchEverything()</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged"></span><span class="token deleted-sign deleted" style="color:#F92672">- }, [org, repo, page])</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+ }, [org, repo, page, dispatch])</span></div></code></pre></div><p><code>&lt;IssuesListPage&gt;</code>에서 새로운<code>fetchIssuesCount</code> 썽크를 가져오고 구성 요소를 다시 작성하여 Redux 저장소에서 열린 문제 수 값을 읽습니다.</p><p><code>useEffect</code> 내에서<code>fetchIssueCount</code>함수를 삭제하고 대신<code>fetchIssuesCount</code>를 전달합니다.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="저장소에-대한-문제를-가져-오기위한-논리"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#저장소에-대한-문제를-가져-오기위한-논리" title="Direct link to heading">#</a>저장소에 대한 문제를 가져 오기위한 논리</h3><p>다음으로 미해결 문제 목록을 가져 오는 로직을 교체해야합니다.</p><blockquote><ul><li><a href="https://github.com/reduxjs/rtk-github-issues-example/compare/Add_a_slice_for_tracking_issues_state~1..reduxjs:Add_a_slice_for_tracking_issues_state">문제 상태 추적을위한 슬라이스 추가</a></li></ul></blockquote><p><strong>features/issuesList/issuesSlice.ts</strong></p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-ts codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#F92672">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> createSlice</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> </span><span class="token maybe-class-name">PayloadAction</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">from</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;@reduxjs/toolkit&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> </span><span class="token maybe-class-name">Links</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">from</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;parse-link-header&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> </span><span class="token maybe-class-name">Issue</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> </span><span class="token maybe-class-name">IssuesResult</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> getIssue</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> getIssues </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">from</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;api/githubAPI&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> </span><span class="token maybe-class-name">AppThunk</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">from</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;app/store&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">interface</span><span class="token plain"> </span><span class="token class-name">IssuesState</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  issuesByNumber</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token maybe-class-name">Record</span><span class="token operator" style="color:#F8F8F2">&lt;</span><span class="token builtin" style="color:#a6e22e">number</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> </span><span class="token maybe-class-name">Issue</span><span class="token operator" style="color:#F8F8F2">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  currentPageIssues</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token builtin" style="color:#a6e22e">number</span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  pageCount</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token builtin" style="color:#a6e22e">number</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  pageLinks</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token maybe-class-name">Links</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">|</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">null</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  isLoading</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token builtin" style="color:#a6e22e">boolean</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  error</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token builtin" style="color:#a6e22e">string</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">|</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">null</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> issuesInitialState</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token maybe-class-name">IssuesState</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  issuesByNumber</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  currentPageIssues</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  pageCount</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token number" style="color:#AE81FF">0</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  pageLinks</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  isLoading</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token boolean" style="color:#AE81FF">false</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  error</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">null</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">startLoading</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">state</span><span class="token parameter punctuation" style="color:#F8F8F2">:</span><span class="token parameter"> IssuesState</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">isLoading</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token boolean" style="color:#AE81FF">true</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">loadingFailed</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">state</span><span class="token parameter punctuation" style="color:#F8F8F2">:</span><span class="token parameter"> IssuesState</span><span class="token parameter punctuation" style="color:#F8F8F2">,</span><span class="token parameter"> action</span><span class="token parameter punctuation" style="color:#F8F8F2">:</span><span class="token parameter"> PayloadAction</span><span class="token parameter operator" style="color:#F8F8F2">&lt;</span><span class="token parameter">string</span><span class="token parameter operator" style="color:#F8F8F2">&gt;</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">isLoading</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token boolean" style="color:#AE81FF">false</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">error</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> action</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">payload</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> issues </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">createSlice</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  name</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;issues&#x27;</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  initialState</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> issuesInitialState</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  reducers</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    getIssueStart</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> startLoading</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    getIssuesStart</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> startLoading</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#E6D874">getIssueSuccess</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">state</span><span class="token parameter punctuation" style="color:#F8F8F2">,</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:#F8F8F2">{</span><span class="token parameter"> payload </span><span class="token parameter punctuation" style="color:#F8F8F2">}</span><span class="token parameter punctuation" style="color:#F8F8F2">:</span><span class="token parameter"> PayloadAction</span><span class="token parameter operator" style="color:#F8F8F2">&lt;</span><span class="token parameter">Issue</span><span class="token parameter operator" style="color:#F8F8F2">&gt;</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> </span><span class="token builtin" style="color:#a6e22e">number</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> payload</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">issuesByNumber</span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token builtin" style="color:#a6e22e">number</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> payload</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">isLoading</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token boolean" style="color:#AE81FF">false</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">error</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">null</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#E6D874">getIssuesSuccess</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">state</span><span class="token parameter punctuation" style="color:#F8F8F2">,</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:#F8F8F2">{</span><span class="token parameter"> payload </span><span class="token parameter punctuation" style="color:#F8F8F2">}</span><span class="token parameter punctuation" style="color:#F8F8F2">:</span><span class="token parameter"> PayloadAction</span><span class="token parameter operator" style="color:#F8F8F2">&lt;</span><span class="token parameter">IssuesResult</span><span class="token parameter operator" style="color:#F8F8F2">&gt;</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> pageCount</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> issues</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> pageLinks </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> payload</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">pageCount</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> pageCount</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">pageLinks</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> pageLinks</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">isLoading</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token boolean" style="color:#AE81FF">false</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">error</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">null</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      issues</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">forEach</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">issue</span><span class="token plain"> </span><span class="token arrow operator" style="color:#F8F8F2">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">issuesByNumber</span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token plain">issue</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">number</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> issue</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">currentPageIssues</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> issues</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">map</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">issue</span><span class="token plain"> </span><span class="token arrow operator" style="color:#F8F8F2">=&gt;</span><span class="token plain"> issue</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">number</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    getIssueFailure</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> loadingFailed</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    getIssuesFailure</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> loadingFailed</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">export</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  getIssuesStart</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  getIssuesSuccess</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  getIssueStart</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  getIssueSuccess</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  getIssueFailure</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  getIssuesFailure</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> issues</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">actions</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">export</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">default</span><span class="token plain"> issues</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">reducer</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">export</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> fetchIssues </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  org</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token builtin" style="color:#a6e22e">string</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  repo</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token builtin" style="color:#a6e22e">string</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  page</span><span class="token operator" style="color:#F8F8F2">?</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token builtin" style="color:#a6e22e">number</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token parameter">AppThunk</span><span class="token plain"> </span><span class="token arrow operator" style="color:#F8F8F2">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">async</span><span class="token plain"> </span><span class="token parameter">dispatch</span><span class="token plain"> </span><span class="token arrow operator" style="color:#F8F8F2">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#E6D874">dispatch</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token function" style="color:#E6D874">getIssuesStart</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> issues </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">await</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">getIssues</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">org</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> repo</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> page</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#E6D874">dispatch</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token function" style="color:#E6D874">getIssuesSuccess</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">issues</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#E6D874">dispatch</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token function" style="color:#E6D874">getIssuesFailure</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">toString</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">export</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> fetchIssue </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  org</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token builtin" style="color:#a6e22e">string</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  repo</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token builtin" style="color:#a6e22e">string</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token builtin" style="color:#a6e22e">number</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token builtin" style="color:#a6e22e">number</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token parameter">AppThunk</span><span class="token plain"> </span><span class="token arrow operator" style="color:#F8F8F2">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">async</span><span class="token plain"> </span><span class="token parameter">dispatch</span><span class="token plain"> </span><span class="token arrow operator" style="color:#F8F8F2">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#E6D874">dispatch</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token function" style="color:#E6D874">getIssueStart</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> issue </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">await</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">getIssue</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">org</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> repo</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> </span><span class="token builtin" style="color:#a6e22e">number</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#E6D874">dispatch</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token function" style="color:#E6D874">getIssueSuccess</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">issue</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#E6D874">dispatch</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token function" style="color:#E6D874">getIssueFailure</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">toString</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span></div></code></pre></div><p>이 슬라이스는 약간 더 길지만 이전과 동일한 기본 접근 방식입니다. API 호출 결과를 처리하는 리듀서로 슬라이스를 작성한 다음 해당 결과를 가져와 작업을 전달하는 썽크를 작성합니다. 이 조각에서 새롭고 흥미로운 부분은 다음과 같습니다.</p><ul><li>&#x27;가져 오기 시작&#x27;및 &#x27;가져 오기 실패&#x27;리듀서 로직은 단일 문제 및 여러 문제 가져 오기 사례 모두에서 동일합니다. 따라서 우리는 슬라이스 외부에 이러한 함수를 한 번 작성한 다음<code>reducers</code> 객체 내부에서 다른 이름으로 여러 번 재사용합니다.</li><li>Github API는 이슈 항목의 배열을 반환하지만, 우리는 <a href="https://redux.js.org/recipes/structuring-reducers/normalizing-state-shape">번호로 이슈를 쉽게 찾을 수 있도록 데이터를 &quot;정규화 된&quot;구조로 저장하고 싶습니다</a>. 이 경우<code>Record &lt;number, Issue&gt;</code>를 선언하여 일반 객체를 조회 테이블로 사용합니다.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="이슈-목록에서-이슈-가져-오기"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#이슈-목록에서-이슈-가져-오기" title="Direct link to heading">#</a>이슈 목록에서 이슈 가져 오기</h3><p>이제 로직을 가져 오는 이슈를 교체하여 <code>&lt;IssuesListPage&gt;</code>컴포넌트 변환을 완료 할 수 있습니다.</p><blockquote><ul><li><a href="https://github.com/reduxjs/rtk-github-issues-example/compare/Update_IssuesListPage_to_fetch_issues_data_via_Redux~1..reduxjs:Update_IssuesListPage_to_fetch_issues_data_via_Redux">Redux를 통해 이슈 데이터를 가져 오도록 IssuesListPage 업데이트</a></li></ul></blockquote><p>변화를 살펴보자.</p><p><strong>features/issuesList/IssuesListPage.tsx</strong></p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-diff codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-import React, { useState, useEffect } from &#x27;react&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+import React, { useEffect } from &#x27;react&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token plain">import { useSelector, useDispatch } from &#x27;react-redux&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token deleted-sign deleted" style="color:#F92672">-import { getIssues, IssuesResult } from &#x27;api/githubAPI&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">import { fetchIssuesCount } from &#x27;features/repoSearch/repoDetailsSlice&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">import { RootState } from &#x27;app/rootReducer&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">import { IssuesPageHeader } from &#x27;./IssuesPageHeader&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">import { IssuesList } from &#x27;./IssuesList&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">import { IssuePagination, OnPageChangeCallback } from &#x27;./IssuePagination&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+import { fetchIssues } from &#x27;./issuesSlice&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">// omit code</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token unchanged">  const dispatch = useDispatch()</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token deleted-sign deleted" style="color:#F92672">- const [issuesResult, setIssues] = useState&lt;IssuesResult&gt;({</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-   pageLinks: null,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-   pageCount: 1,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-   issues: []</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">- })</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">- const [isLoading, setIsLoading] = useState&lt;boolean&gt;(false)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">- const [issuesError, setIssuesError] = useState&lt;Error | null&gt;(null)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+ const {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+   currentPageIssues,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+   isLoading,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+   error: issuesError,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+   issuesByNumber,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+   pageCount</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+ } = useSelector((state: RootState) =&gt; state.issues)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token unchanged">  const openIssueCount = useSelector(</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">    (state: RootState) =&gt; state.repoDetails.openIssuesCount</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">  )</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token deleted-sign deleted" style="color:#F92672">- const { issues, pageCount } = issuesResult</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+ const issues = currentPageIssues.map(</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+   issueNumber =&gt; issuesByNumber[issueNumber]</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+ )</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token unchanged">  useEffect(() =&gt; {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged"></span><span class="token deleted-sign deleted" style="color:#F92672">-   async function fetchEverything() {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-     async function fetchIssues() {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-       const issuesResult = await getIssues(org, repo, page)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-       setIssues(issuesResult)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-     }</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-     try {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-       await Promise.all([</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-        fetchIssues(),</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-        dispatch(fetchIssuesCount(org, repo))</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-       ])</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-       setIssuesError(null)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-     } catch (err) {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-       console.error(err)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-       setIssuesError(err)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-     } finally {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-       setIsLoading(false)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-     }</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-   }</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-    setIsLoading(true)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-    fetchEverything()</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+    dispatch(fetchIssues(org, repo, page))</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+    dispatch(fetchIssuesCount(org, repo))</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token unchanged">  }, [org, repo, page, dispatch])</span></div></code></pre></div><p><code>&lt;IssuesListPage&gt;</code>에서 나머지 <code>useState</code> 후크를 제거하고 다른 ʻuseSelector`를 추가하여 Redux 저장소에서 실제 문제 데이터를 검색하고 &quot;현재 페이지 문제 ID&quot;배열에 매핑하여 렌더링 할 문제 목록을 구성합니다. ID로 각 이슈 객체를 조회합니다.</p><p><code>useEffect</code>에서 컴포넌트에 직접있는 나머지 데이터 가져 오기 로직을 ​​삭제하고 두 데이터 가져 오기 썽크를 모두 전달합니다.</p><p>이것은 구성 요소의 논리를 단순화하지만 수행중인 작업을 제거하지 않고 다른 곳으로 옮겼습니다. 다시 말하지만, 두 접근 방식이 &quot;올바른&quot;것인지 &quot;틀렸는 지&quot;가 아니라 데이터와 논리가 어디에 있는지, 어떤 접근 방식이 앱과 상황에 대해 더 유지 관리 할 수 ​​있는지에 대한 질문 일뿐입니다.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="이슈-세부-정보-페이지-변환"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#이슈-세부-정보-페이지-변환" title="Direct link to heading">#</a>이슈 세부 정보 페이지 변환</h2><p>변환에 남은 마지막 주요 작업은<code>&lt;IssueDetailsPage&gt;</code>구성 요소입니다. 그것이 무엇을하는지 살펴 보자.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="문제-세부-정보-구성-요소-검토"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#문제-세부-정보-구성-요소-검토" title="Direct link to heading">#</a>문제 세부 정보 구성 요소 검토</h3><p>다음은 상태 및 데이터 가져 오기를 포함하는<code>&lt;IssueDetailsPage&gt;</code>의 현재 전반입니다.</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-ts codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#F92672">export</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:#E6D874">IssueDetailsPage</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter punctuation" style="color:#F8F8F2">{</span><span class="token parameter"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token parameter">  org</span><span class="token parameter punctuation" style="color:#F8F8F2">,</span><span class="token parameter"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token parameter">  repo</span><span class="token parameter punctuation" style="color:#F8F8F2">,</span><span class="token parameter"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token parameter">  issueId</span><span class="token parameter punctuation" style="color:#F8F8F2">,</span><span class="token parameter"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token parameter">  showIssuesList</span></div><div class="token-line" style="color:#f8f8f2"><span class="token parameter"></span><span class="token parameter punctuation" style="color:#F8F8F2">}</span><span class="token parameter punctuation" style="color:#F8F8F2">:</span><span class="token parameter"> IDProps</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#F8F8F2">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token plain">issue</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> setIssue</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> useState</span><span class="token operator" style="color:#F8F8F2">&lt;</span><span class="token maybe-class-name">Issue</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">|</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">null</span><span class="token operator" style="color:#F8F8F2">&gt;</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token keyword" style="color:#F92672">null</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token plain">comments</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> setComments</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> useState</span><span class="token operator" style="color:#F8F8F2">&lt;</span><span class="token maybe-class-name">Comment</span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token operator" style="color:#F8F8F2">&gt;</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token plain">commentsError</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> setCommentsError</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> useState</span><span class="token operator" style="color:#F8F8F2">&lt;</span><span class="token known-class-name class-name">Error</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">|</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">null</span><span class="token operator" style="color:#F8F8F2">&gt;</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token keyword" style="color:#F92672">null</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token function" style="color:#E6D874">useEffect</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#F8F8F2">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#F92672">async</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">fetchIssue</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token keyword" style="color:#F92672">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token function" style="color:#E6D874">setCommentsError</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token keyword" style="color:#F92672">null</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> issue </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">await</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">getIssue</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">org</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> repo</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> issueId</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token function" style="color:#E6D874">setIssue</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">issue</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token function" style="color:#E6D874">setCommentsError</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#E6D874">fetchIssue</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token plain">org</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> repo</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> issueId</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token function" style="color:#E6D874">useEffect</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#F8F8F2">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#F92672">async</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">fetchComments</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token keyword" style="color:#F92672">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">issue </span><span class="token operator" style="color:#F8F8F2">!==</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">null</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> comments </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">await</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">getComments</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">issue</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">comments_url</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token function" style="color:#E6D874">setComments</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">comments</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#E6D874">fetchComments</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token plain">issue</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token comment" style="color:#778090">// omit rendering</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span></div></code></pre></div><p><code>&lt;IssuesListPage&gt;</code>와 매우 유사합니다. 현재 표시된 <code>Issue</code>, 가져온 코멘트 및 잠재적 오류를 저장합니다. 현재 이슈를 ID로 가져오고 이슈가 변경 될 때마다 주석을 가져 오는 <code>useEffect</code> 후크가 있습니다.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="현재-문제-가져-오기"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#현재-문제-가져-오기" title="Direct link to heading">#</a>현재 문제 가져 오기</h3><p>우리는 이미 단일 이슈를 가져 오기위한 Redux 로직을 가지고 있습니다. 이미 <code>issuesSlice.ts</code>의 일부로 작성했습니다. 따라서 바로 여기 <code>IssueDetailsPage</code>에서 바로 사용할 수 있습니다.</p><blockquote><ul><li><a href="https://github.com/reduxjs/rtk-github-issues-example/compare/Update_IssueDetailsPage_to_fetch_issue_data_via_Redux~1..reduxjs:Update_IssueDetailsPage_to_fetch_issue_data_via_Redux">Redux를 통해 이슈 데이터를 가져 오도록 IssueDetailsPage 업데이트</a></li></ul></blockquote><p><strong>features/issueDetails/IssueDetailsPage.tsx</strong></p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-diff codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token plain">import React, { useState, useEffect } from &#x27;react&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+import { useSelector, useDispatch } from &#x27;react-redux&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token plain">import ReactMarkdown from &#x27;react-markdown&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">import classnames from &#x27;classnames&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">import { insertMentionLinks } from &#x27;utils/stringUtils&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token deleted-sign deleted" style="color:#F92672">-import { getIssue, getComments, Issue, Comment } from &#x27;api/githubAPI&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+import { getComments, Comment } from &#x27;api/githubAPI&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token plain">import { IssueLabels } from &#x27;components/IssueLabels&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+import { RootState } from &#x27;app/rootReducer&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+import { fetchIssue } from &#x27;features/issuesList/issuesSlice&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">export const IssueDetailsPage = ({</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token unchanged">  org,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">  repo,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">  issueId,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">  showIssuesList</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged"></span><span class="token plain">}: IDProps) =&gt; {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token deleted-sign deleted" style="color:#F92672">- const [issue, setIssue] = useState&lt;Issue | null&gt;(null)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token unchanged">  const [comments, setComments] = useState&lt;Comment[]&gt;([])</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged"></span><span class="token deleted-sign deleted" style="color:#F92672">- const [commentsError, setCommentsError] = useState&lt;Error | null&gt;(null)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+ const [commentsError] = useState&lt;Error | null&gt;(null)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+ const dispatch = useDispatch()</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+ const issue = useSelector(</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+   (state: RootState) =&gt; state.issues.issuesByNumber[issueId]</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+ )</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token unchanged">  useEffect(() =&gt; {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged"></span><span class="token deleted-sign deleted" style="color:#F92672">-   async function fetchIssue() {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-     try {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-       setCommentsError(null)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-       const issue = await getIssue(org, repo, issueId)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-       setIssue(issue)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-     } catch (err) {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-       setCommentsError(err)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-     }</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-    }</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-    fetchIssue()</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+   if (!issue) {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+      dispatch(fetchIssue(org, repo, issueId))</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+   }</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+   // Since we may have the issue already, ensure we&#x27;re scrolled to the top</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+   window.scrollTo({ top: 0 })</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token deleted-sign deleted" style="color:#F92672">- }, [org, repo, issueId])</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+ }, [org, repo, issueId, issue, dispatch])</span></div></code></pre></div><p>우리는 일반적인 패턴을 계속합니다. 기존의 ʻuseState<code> 후크를 삭제하고 ʻuseSelector</code>를 통해 ʻuseDispatch<code> 및 필요한 상태를 가져온 다음</code>fetchIssue` 썽크를 전달하여 데이터를 가져옵니다.</p><p>흥미롭게도 여기에는 실제로 행동에 약간의 변화가 있습니다. 원래 React 코드는 가져온 이슈를<code>&lt;IssuesListPage&gt;</code>에 저장했고<code>&lt;IssueDetailsPage&gt;</code>는 항상 자체 이슈에 대해 별도의 가져 오기를 수행해야했습니다. 이제 Redux 스토어에 이슈를 저장하고 있기 때문에 대부분의 경우 나열된 이슈는 이미 캐시되어 있어야하며 가져올 필요도 없습니다. 이제 React만으로도 비슷한 일을 할 수 있습니다. 우리가해야 할 일은 부모 컴포넌트에서 이슈를 전달하는 것뿐입니다. 그래도 Redux에 해당 데이터가 있으면 캐싱을 더 쉽게 수행 할 수 있습니다.</p><p>(흥미로운 참고 사항 : 첫 번째 렌더링 중에 문제가 존재하지 않았기 때문에 콘텐츠가 없었기 때문에 원래 코드는 항상 페이지를 맨 위로 건너 뛰도록했습니다. 문제가 <em>does</em> 존재하고 즉시 렌더링하면 , 페이지가 이슈 목록의 스크롤 위치를 유지할 수 있으므로 맨 위로 스크롤을 강제해야합니다.)</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="comment-가져-오기-로직"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#comment-가져-오기-로직" title="Direct link to heading">#</a>Comment 가져 오기 로직</h3><p>작성할 슬라이스가 하나 더 남아 있습니다. 현재 문제에 대한 주석을 가져 와서 저장해야합니다.</p><blockquote><ul><li><a href="https://github.com/reduxjs/rtk-github-issues-example/compare/Add_a_slice_for_tracking_comments_data~1..reduxjs:Add_a_slice_for_tracking_comments_data">comments data추가를 위한 slice추가</a></li></ul></blockquote><p><strong>features/issueDetails/commentsSlice.ts</strong></p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-ts codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#F92672">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> createSlice</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> </span><span class="token maybe-class-name">PayloadAction</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">from</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;@reduxjs/toolkit&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> </span><span class="token maybe-class-name">Comment</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> getComments</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> </span><span class="token maybe-class-name">Issue</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">from</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;api/githubAPI&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> </span><span class="token maybe-class-name">AppThunk</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">from</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;app/store&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">interface</span><span class="token plain"> </span><span class="token class-name">CommentsState</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  commentsByIssue</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token maybe-class-name">Record</span><span class="token operator" style="color:#F8F8F2">&lt;</span><span class="token builtin" style="color:#a6e22e">number</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> </span><span class="token maybe-class-name">Comment</span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">|</span><span class="token plain"> undefined</span><span class="token operator" style="color:#F8F8F2">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  loading</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token builtin" style="color:#a6e22e">boolean</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  error</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token builtin" style="color:#a6e22e">string</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">|</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">null</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">interface</span><span class="token plain"> </span><span class="token class-name">CommentLoaded</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  issueId</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token builtin" style="color:#a6e22e">number</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  comments</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token maybe-class-name">Comment</span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> initialState</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token maybe-class-name">CommentsState</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  commentsByIssue</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  loading</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token boolean" style="color:#AE81FF">false</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  error</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">null</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> comments </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">createSlice</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  name</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;comments&#x27;</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  initialState</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  reducers</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#E6D874">getCommentsStart</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">state</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">loading</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token boolean" style="color:#AE81FF">true</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">error</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">null</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#E6D874">getCommentsSuccess</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">state</span><span class="token parameter punctuation" style="color:#F8F8F2">,</span><span class="token parameter"> action</span><span class="token parameter punctuation" style="color:#F8F8F2">:</span><span class="token parameter"> PayloadAction</span><span class="token parameter operator" style="color:#F8F8F2">&lt;</span><span class="token parameter">CommentLoaded</span><span class="token parameter operator" style="color:#F8F8F2">&gt;</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> comments</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> issueId </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> action</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">payload</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">commentsByIssue</span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token plain">issueId</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> comments</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">loading</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token boolean" style="color:#AE81FF">false</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">error</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">null</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#E6D874">getCommentsFailure</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">state</span><span class="token parameter punctuation" style="color:#F8F8F2">,</span><span class="token parameter"> action</span><span class="token parameter punctuation" style="color:#F8F8F2">:</span><span class="token parameter"> PayloadAction</span><span class="token parameter operator" style="color:#F8F8F2">&lt;</span><span class="token parameter">string</span><span class="token parameter operator" style="color:#F8F8F2">&gt;</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">loading</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token boolean" style="color:#AE81FF">false</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">error</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> action</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">payload</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">export</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  getCommentsStart</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  getCommentsSuccess</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  getCommentsFailure</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> comments</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">actions</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">export</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">default</span><span class="token plain"> comments</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">reducer</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">export</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> fetchComments </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">issue</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token maybe-class-name">Issue</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token parameter">AppThunk</span><span class="token plain"> </span><span class="token arrow operator" style="color:#F8F8F2">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">async</span><span class="token plain"> </span><span class="token parameter">dispatch</span><span class="token plain"> </span><span class="token arrow operator" style="color:#F8F8F2">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#E6D874">dispatch</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token function" style="color:#E6D874">getCommentsStart</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> comments </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">await</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">getComments</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">issue</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">comments_url</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#E6D874">dispatch</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token function" style="color:#E6D874">getCommentsSuccess</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> issueId</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> issue</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">number</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> comments </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#E6D874">dispatch</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token function" style="color:#E6D874">getCommentsFailure</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span></div></code></pre></div><p>이 시점에서 슬라이스는 꽤 익숙해 보일 것입니다. 우리의 주요 상태는 이슈 ID로 입력 된 주석의 조회 테이블입니다. 슬라이스 후, 주어진 이슈에 대한 주석을 가져 오는 썽크를 추가하고 결과 배열을 슬라이스에 저장하기위한 액션을 전달합니다.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="이슈-댓글-가져-오기"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#이슈-댓글-가져-오기" title="Direct link to heading">#</a>이슈 댓글 가져 오기</h3><p>마지막 단계는<code>&lt;IssueDetailsPage&gt;</code>에서 댓글 가져 오기 로직을 ​​바꾸는 것입니다.</p><blockquote><ul><li><a href="https://github.com/reduxjs/rtk-github-issues-example/compare/Update_IssueDetailsPage_to_fetch_comments_via_Redux~1..reduxjs:Update_IssueDetailsPage_to_fetch_comments_via_Redux">Redux를 통해 댓글을 가져 오도록 IssueDetailsPage 업데이트</a></li></ul></blockquote><p><strong>features/issueDetails/IssueDetailsPage.tsx</strong></p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-diff codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-import React, { useState, useEffect } from &#x27;react&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+import React, { useEffect } from &#x27;react&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token deleted-sign deleted" style="color:#F92672">-import { useSelector, useDispatch } from &#x27;react-redux&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+import { useSelector, useDispatch, shallowEqual } from &#x27;react-redux&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token plain">import ReactMarkdown from &#x27;react-markdown&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">import classnames from &#x27;classnames&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">import { insertMentionLinks } from &#x27;utils/stringUtils&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token deleted-sign deleted" style="color:#F92672">-import { getComments, Comment } from &#x27;api/githubAPI&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token plain">import { IssueLabels } from &#x27;components/IssueLabels&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">import { RootState } from &#x27;app/rootReducer&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">import { fetchIssue } from &#x27;features/issuesList/issuesSlice&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">import { IssueMeta } from &#x27;./IssueMeta&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">import { IssueComments } from &#x27;./IssueComments&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+import { fetchComments } from &#x27;./commentsSlice&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">export const IssueDetailsPage = ({</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token unchanged">  org,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">  repo,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">  issueId,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">  showIssuesList</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged"></span><span class="token plain">}: IDProps) =&gt; {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token deleted-sign deleted" style="color:#F92672">- const [comments, setComments] = useState&lt;Comment[]&gt;([])</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">- const [commentsError] = useState&lt;Error | null&gt;(null)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token unchanged">  const dispatch = useDispatch()</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token unchanged">  const issue = useSelector(</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">    (state: RootState) =&gt; state.issues.issuesByNumber[issueId]</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged">  )</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+ const { commentsLoading, commentsError, comments } = useSelector(</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+   (state: RootState) =&gt; {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+     return {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+       commentsLoading: state.comments.loading,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+       commentsError: state.comments.error,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+       comments: state.comments.commentsByIssue[issueId]</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+     }</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+   },</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+   shallowEqual</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+ )</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">// omit effect</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token unchanged">  useEffect(() =&gt; {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token unchanged"></span><span class="token deleted-sign deleted" style="color:#F92672">-   async function fetchComments() {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-     if (issue) {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-       const comments = await getComments(issue.comments_url)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-       setComments(comments)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-     }</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-   }</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672">-   fetchComments()</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+   if (issue) {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+     dispatch(fetchComments(issue))</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e">+   }</span></div><div class="token-line" style="color:#f8f8f2"><span class="token inserted-sign inserted" style="color:#a6e22e"></span><span class="token deleted-sign deleted" style="color:#F92672">- }, [issue])</span></div><div class="token-line" style="color:#f8f8f2"><span class="token deleted-sign deleted" style="color:#F92672"></span><span class="token inserted-sign inserted" style="color:#a6e22e">+ }, [issue, dispatch])</span></div></code></pre></div><p>현재 코멘트 데이터를 가져 오기 위해 또 다른 ʻuseSelector` 후크를 추가합니다. 이 경우 로딩 플래그, 잠재적 오류 및이 문제에 대한 실제 코멘트 배열의 세 가지 다른 부분이 필요합니다.</p><p>그러나 이로 인해 성능 문제가 발생합니다. 이 선택기가 실행될 때마다<code>{commentsLoading, commentsError, comments}</code>라는 새 객체를 반환합니다. <strong><code>connect</code>와 달리 ʻuseSelector`는 기본적으로 참조 동등성에 의존합니다.</strong> 따라서 새 객체를 반환하면 코멘트이 동일하더라도 작업이 전달 될 때마다이 구성 요소가 다시 렌더링됩니다!</p><p>이 문제를 해결하는 몇 가지 방법이 있습니다.</p><ul><li>별도의 &#x27;useSelector&#x27;호출로 작성할 수 있습니다.</li><li>Reselect의<code>createSelector</code>와 같은 메모 된 선택기를 사용할 수 있습니다.</li><li>React-Redux<code>shallowEqual</code> 함수를 사용하여 결과를 비교할 수 있으므로 객체의 <em>contents</em>가 변경된 경우에만 다시 렌더링이 발생합니다.</li></ul><p>이 경우 <code>useSelector</code>의 비교 함수로<code>shallowEqual</code>을 추가합니다.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="요약"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#요약" title="Direct link to heading">#</a>요약</h2><p>그리고 그것으로 우리는 끝났습니다! 전체 Github Issues 앱은 이제 썽크를 통해 데이터를 가져오고, Redux에 데이터를 저장하고, React-Redux 후크를 통해 스토어와 상호 작용해야합니다. Github API 호출을위한 Typescript 유형이 있고 API 유형은 Redux 상태 슬라이스에 사용되고 저장소 상태 유형은 React 구성 요소에서 사용됩니다.</p><p>우리가 원하면 더 많은 타입 안전성을 추가하기 위해 할 수있는 일이 더 많지만 (예를 들어<code>dispatch</code>에 전달할 수있는 가능한 액션 유형을 제한하려는 시도), 이는 너무 많은 추가 노력없이 합리적인 &quot;80 % 솔루션&quot;을 제공합니다.</p><p>이제 Redux Toolkit이 실제 응용 프로그램에서 어떻게 보이는지 확실히 이해 하셨기를 바랍니다.</p><p>전체 소스 코드와 실행중인 앱을 한 번 더 살펴보면서 마무리하겠습니다.</p><iframe src="https://codesandbox.io/embed/rtk-github-issues-example-03-final-ihttc?fontsize=14&amp;hidenavigation=1&amp;module=%2Fsrc%2Ffeatures%2FissueDetails%2FcommentsSlice.ts&amp;theme=dark&amp;view=editor" style="width:100%;height:500px;border:0;border-radius:4px;overflow:hidden" title="rtk-github-issues-example03-final" allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"></iframe><p><strong>Now, go out there and build something cool!</strong></p></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/redux-toolkit/tutorials/intermediate-tutorial"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">« 중급 튜토리얼</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/redux-toolkit/usage/usage-guide"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">Usage Guide »</h4></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#시작-예제-애플리케이션-검토" class="contents__link">시작 예제 애플리케이션 검토</a><ul><li><a href="#react-codebase-소스-개요" class="contents__link">React Codebase 소스 개요</a></li></ul></li><li><a href="#redux-store-설정" class="contents__link">Redux Store 설정</a></li><li><a href="#메인-앱-디스플레이-변환" class="contents__link">메인 앱 디스플레이 변환</a><ul><li><a href="#기존-앱-상태-평가" class="contents__link">기존 앱 상태 평가</a></li><li><a href="#초기-상태-슬라이스-생성" class="contents__link">초기 상태 슬라이스 생성</a></li><li><a href="#이슈-디스플레이-변환" class="contents__link">이슈 디스플레이 변환</a></li></ul></li><li><a href="#이슈-목록-페이지-변환" class="contents__link">이슈 목록 페이지 변환</a><ul><li><a href="#문제-목록-구성-요소-검토" class="contents__link">문제 목록 구성 요소 검토</a></li><li><a href="#thunk에서-생각하기" class="contents__link">Thunk에서 생각하기</a></li><li><a href="#github-repo-세부-정보를-가져-오는-논리" class="contents__link">Github Repo 세부 정보를 가져 오는 논리</a></li><li><a href="#문제-목록에서-repo-세부-정보-가져-오기" class="contents__link">문제 목록에서 Repo 세부 정보 가져 오기</a></li><li><a href="#저장소에-대한-문제를-가져-오기위한-논리" class="contents__link">저장소에 대한 문제를 가져 오기위한 논리</a></li><li><a href="#이슈-목록에서-이슈-가져-오기" class="contents__link">이슈 목록에서 이슈 가져 오기</a></li></ul></li><li><a href="#이슈-세부-정보-페이지-변환" class="contents__link">이슈 세부 정보 페이지 변환</a><ul><li><a href="#문제-세부-정보-구성-요소-검토" class="contents__link">문제 세부 정보 구성 요소 검토</a></li><li><a href="#현재-문제-가져-오기" class="contents__link">현재 문제 가져 오기</a></li><li><a href="#comment-가져-오기-로직" class="contents__link">Comment 가져 오기 로직</a></li><li><a href="#이슈-댓글-가져-오기" class="contents__link">이슈 댓글 가져 오기</a></li></ul></li><li><a href="#요약" class="contents__link">요약</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/redux-toolkit/introduction/quick-start">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/redux-toolkit/api/configureStore">API Reference</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="http://stackoverflow.com/questions/tagged/redux">Stack Overflow</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://discord.gg/0ZcbPKXt5bZ6au5t">Discord</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://www.github.com/reduxjs/redux-toolkit">GitHub</a></li><li class="footer__item">
                <a href="https://www.netlify.com">
                  <img src="https://www.netlify.com/img/global/badges/netlify-light.svg" alt="Deploys by Netlify">
                </a>
              </li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><img class="footer__logo" alt="Redux Logo" src="/redux-toolkit/img/redux_white.svg"></div>Copyright (c) 2015-present Dan Abramov and the Redux documentation authors.</div></div></footer>
</div>

<script src="/redux-toolkit/styles.65c09200.js"></script>

<script src="/redux-toolkit/runtime~main.0722f1cd.js"></script>

<script src="/redux-toolkit/main.bae73ed5.js"></script>

<script src="/redux-toolkit/1.188bb098.js"></script>

<script src="/redux-toolkit/2.46003221.js"></script>

<script src="/redux-toolkit/26.f1fc65f0.js"></script>

<script src="/redux-toolkit/b769c63f.a0c93f25.js"></script>

<script src="/redux-toolkit/17896441.dec4baf3.js"></script>

<script src="/redux-toolkit/c92aab1c.4bb33b47.js"></script>


</body>
</html>